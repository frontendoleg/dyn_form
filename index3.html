<!DOCTYPE html>
  <head>
    <meta charset = 'utf-8'>
    <title>Dyn_Form_New_Function</title>
  </head>
  <body>
    <form name = 'myform' method = 'get' action = ''> <!-- имя метод и экшн для формы -->
    </form>

    <script>
    var formAh = [
    {'inputtype':'select','label':'label1','name':'name1','value':null,'selected':'selected','checked':null,}, // field 0
    {'inputtype':'password','label':null,'name':'name2','value':null,'selected':null,'checked':null,}, // field 1
    {'inputtype':'radio','label':'label3','name':'name3','value':null,'selected':null,'checked':null,}, // field 2
    ]; // сохраняем массив

    function createFormElements(inputtypeV, labelV, nameV, valueV, selectedV, checkedV){
      // возвращает сконструированный элемент
      var elem = null;
      if((inputtypeV == 'text') || (inputtypeV == 'password')){
        if(labelV){
          console.log('text+label');
          var elemLabel = document.createElement('label'); // создаем элемент label, сохраняем в переменную elemLabel
          var elemLabelContent = document.createTextNode(labelV); // создаем текстовый узел с содержимым Label
          elemLabel.appendChild(elemLabelContent); // текстовый элемент помещаем внутрь label
          var elemInput = document.createElement('input'); // создаем элемент input
          elemInput.setAttribute('type',inputtypeV); // задаем атрибуту type значение inputtypeV
          elemLabel.appendChild(elemInput); // элемент input помещаем внутрь элемента label
          elem = elemLabel; // помещаем готовый элемент в переменную elem
        }
        else{
          console.log('text only');
          elem = document.createElement('input');
          elem.setAttribute('type',inputtypeV); // задаем атрибуту type значение password

          // alert(elem.getAttribute('type')); // как задать атрибуты инпута?
        }
      } // /text

      if(inputtypeV == 'radio'){
          console.log('radio');
      }

      if(inputtypeV == 'checkbox'){
          console.log('checkbox');
      }

      if(inputtypeV == 'select'){
          console.log('select');
      }
      if(inputtypeV == 'submit'){
          console.log('submit');
      }
    return elem;
    }

    function parseCreateFormContent(formH){// создает контент для помещения в форму. Принимает один хэш поля формы
          var inputtypeV = null, labelV = null, nameV = null, valueV = null, selectedV = null, checkedV = null;
          // подготоавлваем переменные для парсинга хэша внутри строки
          for(var key in formH){ // перебираем ключи внутри строки
            switch(key){
              case 'inputtype':
                inputtypeV = formH[key];
                break;

              case 'label':
                labelV = formH[key];
                break;

              case 'name':
                nameV = formH[key];
                break;

              case 'value':
                valueV = formH[key];
                break;

              case 'selected':
                selectedV = formH[key];
                break;

              case 'checked':
                checkedV = formH[key];
                break;
            } // /switch
          } // /for
          var cFE = createFormElements(inputtypeV, labelV, nameV, valueV, selectedV, checkedV);
        return cFE; // возвращает вызов функции createFormElements
    } // /function createFormContent

    function demofillForm(dataFormAh,nameForm){
      for(var i = 0; i < dataFormAh.length; i++){ // перебираем массив хэшей
        var formH = dataFormAh[i]; // берем конкретный хэш

        parseCreateFormContent(formH);

      }
    }

    function fillForm(dataFormAh,nameForm){ // заполняет форму подготовленным контентом. Принимает массив хэшей, имя формы
      var formElement = document.forms[nameForm]; // мы находим нужную форму по имени
      for(var i = 0; i < dataFormAh.length; i++){ // перебираем массив хэшей
        var formH = dataFormAh[i]; // берем конкретный хэш
        //console.log (formH);
        formElement.appendChild(createFormContent(formH));
        brElement = document.createElement('br');
        formElement.appendChild(brElement);// добавляем дочерний элемент в форму
      }
    }

    demofillForm (formAh,'myform'); // вызов функции заполнения формы. На вход функции даем наш массив, имя нашей формы.

    </script>
  </body>
</html>