<!DOCTYPE html>
  <head>
    <meta charset = 'utf-8'>
    <title>Dyn_Form_New_Function</title>
  </head>
  <body>
    <form name = 'myform' method = 'get' action = ''> <!-- имя метод и экшн для формы -->
    </form>

    <script>
    var formAh = [
    {'labelkey':null,'inputkey':'text'}, // field 0
    {'labelkey':'label2','inputkey':'text'}, // field 1
    {'labelkey':'another_label','inputkey':'text'}, // field 2
    ]; // сохраняем массив

    function createFormContent(formH){                                            // создает контент для помещения в форму. Принимает один хэш поля формы
          for(var key in formH){ // перебираем ключи внутри строки
            switch(key){
              case 'labelkey': // Проверяем, если это labelkeys
                // console.log(formH[key],'i=',i)
                if (formH[key]){
                  var elem = document.createElement('label'); // создаем элемент label, сохраняем в переменную elem
                  var elemContent = document.createTextNode(formH[key]); // создаем текстовый узел
                  // var elemInput = document.createElement('input'); // создаем поле инпут
                  elem.appendChild(elemContent);
                  // elem.appendChild(elemInput);
                }
                case 'inputkey': // Проверяем, если это inputkey
                  var inputkeyVal = formH[key]; // сохраняем значение ключа inputkey;
                  if ((inputkeyVal = 'text') || (inputkeyVal = 'password')){ // текстовое поле
                    var elemInput = document.createElement('input') // создаем элемент инпут
                    // вопрос - как задать атрибуты инпута?
tese                  }
                // else elem = document.createElement('input');
                console.log(elem);
            }
                //content+=elem;

                  //console.log(content);
          }
      return elem;
    }
    function fillForm(dataFormAh,nameForm){ // заполняет форму подготовленным контентом. Принимает массив хэшей, имя формы
      var formElement = document.forms[nameForm]; // мы находим нужную форму по имени
      for(var i = 0; i < dataFormAh.length; i++){ // перебираем массив хэшей
        var formH = dataFormAh[i]; // берем конкретный хэш
        console.log (formH);
        formElement.appendChild(createFormContent(formH));
        brElement = document.createElement('br');
        formElement.appendChild(brElement);// добавляем дочерний элемент в форму
      }
    }

    fillForm (formAh,'myform'); // вызов функции заполнения формы. На вход функции даем наш массив, имя нашей формы.

    </script>
  </body>
</html>